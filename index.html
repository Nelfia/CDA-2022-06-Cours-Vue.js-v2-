<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Introduction Vue JS</title>
    <link rel="stylesheet" href="./style.css">
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>

</head>

<body>
    <div id="app">
        <div>
            <h2>Facture n° {{ billNumber }}</h2>

            <client-infos></client-infos>

            <button @click="addLine">Ajouter</button>
            <table>
                <thead>
                    <tr>
                        <th>Reférence</th>
                        <th>Description</th>
                        <th>Quantité</th>
                        <th>Prix</th>
                        <th>TVA</th>
                        <th>Total</th>
                        <th>#</th>
                    </tr>
                </thead>

                <tbody>
                    <tr v-for="(line, key) in lines">
                        <td>
                            <input type="text" step="0.1" v-model="line.ref" />
                            {{ line.ref }}
                        </td>
                        <td>
                            <input type="text" step="0.1" v-model="line.description" />
                            {{ line.description }}
                        </td>
                        <td>
                            <input type="number" step="0.1" v-model="line.quantity" />
                            {{ line.quantity }}
                        </td>

                        <td>
                            <input type="number" step="0.1" v-model="line.price" />
                            {{ line.price }}
                        </td>

                        <td>
                            <select id="tva" v-model="line.tva" required>
                                <option value="0.2">20 %</option>
                                <option value="0">0 %</option>
                            </select>
                            {{ line.tva }}
                        </td>

                        <td>{{ line.total }}€ </td>
                        <td><button @click="removeLine(key)"> X </button></td>
                    </tr>
                </tbody>
            </table>

            <totaux-item :lines="lines"></totaux-item>

        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/axios@0.12.0/dist/axios.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/lodash@4.13.1/lodash.min.js"></script>
    <script src="./app.js"></script>
</body>

</html>